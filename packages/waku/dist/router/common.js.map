{"version":3,"sources":["../../src/router/common.ts"],"sourcesContent":["export type RouteProps<Path extends string = string> = {\n  path: Path;\n  query: string;\n  hash: string;\n};\n\nexport function getComponentIds(path: string): readonly string[] {\n  const pathItems = path.split('/').filter(Boolean);\n  const idSet = new Set<string>();\n  for (let index = 0; index <= pathItems.length; ++index) {\n    const id = [...pathItems.slice(0, index), 'layout'].join('/');\n    idSet.add(id);\n  }\n  idSet.add([...pathItems, 'page'].join('/'));\n  return ['root', ...Array.from(idSet)];\n}\n\nconst ROUTE_PREFIX = 'R';\n\nexport function encodeRoutePath(path: string): string {\n  if (!path.startsWith('/')) {\n    throw new Error('Path must start with `/`: ' + path);\n  }\n  if (path === '/') {\n    return ROUTE_PREFIX + '/_root';\n  }\n  if (path.endsWith('/')) {\n    throw new Error('Path must not end with `/`: ' + path);\n  }\n  return ROUTE_PREFIX + path;\n}\n\nexport function decodeRoutePath(rscPath: string): string {\n  if (!rscPath.startsWith(ROUTE_PREFIX)) {\n    throw new Error('rscPath should not start with `/`');\n  }\n  if (rscPath === ROUTE_PREFIX + '/_root') {\n    return '/';\n  }\n  return rscPath.slice(ROUTE_PREFIX.length);\n}\n\nexport const ROUTE_ID = 'ROUTE';\nexport const IS_STATIC_ID = 'IS_STATIC';\nexport const HAS404_ID = 'HAS404';\n\n// For HTTP header\nexport const SKIP_HEADER = 'X-Waku-Router-Skip';\n"],"names":["getComponentIds","path","pathItems","split","filter","Boolean","idSet","Set","index","length","id","slice","join","add","Array","from","ROUTE_PREFIX","encodeRoutePath","startsWith","Error","endsWith","decodeRoutePath","rscPath","ROUTE_ID","IS_STATIC_ID","HAS404_ID","SKIP_HEADER"],"mappings":"AAMA,OAAO,SAASA,gBAAgBC,IAAY;IAC1C,MAAMC,YAAYD,KAAKE,KAAK,CAAC,KAAKC,MAAM,CAACC;IACzC,MAAMC,QAAQ,IAAIC;IAClB,IAAK,IAAIC,QAAQ,GAAGA,SAASN,UAAUO,MAAM,EAAE,EAAED,MAAO;QACtD,MAAME,KAAK;eAAIR,UAAUS,KAAK,CAAC,GAAGH;YAAQ;SAAS,CAACI,IAAI,CAAC;QACzDN,MAAMO,GAAG,CAACH;IACZ;IACAJ,MAAMO,GAAG,CAAC;WAAIX;QAAW;KAAO,CAACU,IAAI,CAAC;IACtC,OAAO;QAAC;WAAWE,MAAMC,IAAI,CAACT;KAAO;AACvC;AAEA,MAAMU,eAAe;AAErB,OAAO,SAASC,gBAAgBhB,IAAY;IAC1C,IAAI,CAACA,KAAKiB,UAAU,CAAC,MAAM;QACzB,MAAM,IAAIC,MAAM,+BAA+BlB;IACjD;IACA,IAAIA,SAAS,KAAK;QAChB,OAAOe,eAAe;IACxB;IACA,IAAIf,KAAKmB,QAAQ,CAAC,MAAM;QACtB,MAAM,IAAID,MAAM,iCAAiClB;IACnD;IACA,OAAOe,eAAef;AACxB;AAEA,OAAO,SAASoB,gBAAgBC,OAAe;IAC7C,IAAI,CAACA,QAAQJ,UAAU,CAACF,eAAe;QACrC,MAAM,IAAIG,MAAM;IAClB;IACA,IAAIG,YAAYN,eAAe,UAAU;QACvC,OAAO;IACT;IACA,OAAOM,QAAQX,KAAK,CAACK,aAAaP,MAAM;AAC1C;AAEA,OAAO,MAAMc,WAAW,QAAQ;AAChC,OAAO,MAAMC,eAAe,YAAY;AACxC,OAAO,MAAMC,YAAY,SAAS;AAElC,kBAAkB;AAClB,OAAO,MAAMC,cAAc,qBAAqB"}